<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KenariCoin (KN) - Connect</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.ethers.io/lib/ethers-5.7.umd.min.js"></script>
</head>
<body class="h-screen flex items-center justify-center bg-gradient-to-b from-yellow-100 to-white">

  <button id="connectBtn" class="rounded-2xl px-8 py-4 text-xl bg-yellow-400 hover:bg-yellow-500 text-white font-bold shadow-lg transition">
    Connect Wallet
  </button>

  <script>
    const connectBtn = document.getElementById("connectBtn");
    let provider, signer, account;

    connectBtn.addEventListener("click", async () => {
      if (window.ethereum) {
        try {
          const accounts = await window.ethereum.request({ method: "eth_requestAccounts" });
          account = accounts[0];
          provider = new ethers.providers.Web3Provider(window.ethereum);
          signer = provider.getSigner();

          // âœ… redirect ke dashboard
          localStorage.setItem("connectedAccount", account); // simpan biar bisa dipakai di dashboard
          window.location.href = "dashboard.html";
        } catch (err) {
          alert("Wallet connect error: " + err.message);
        }
      } else {
        alert("Please install MetaMask or WalletConnect supported wallet!");
      }
    });
  </script>
</body>
</html>
